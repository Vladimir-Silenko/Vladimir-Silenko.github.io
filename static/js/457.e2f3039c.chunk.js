(self.webpackChunkreact_lessons=self.webpackChunkreact_lessons||[]).push([[457],{7457:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return G}});var i,r,s,o,a,u,c,l,d=e(885),f=e(4165),h=e(5861),p={main_info:"ProfileInfo_main_info__U4Ufy",contacts:"ProfileInfo_contacts__W-ZL9",avatar:"ProfileInfo_avatar__TkU+4",fullname:"ProfileInfo_fullname__+pR9p"},x=e(5336),m=e(2791),v=e(6070),g=e(184),j=function(n){var t=n.params,e=n.dispatch,i=n.status,r=(0,m.useState)(i),s=(0,d.Z)(r,2),o=s[0],a=s[1],u=(0,m.useState)(!1),c=(0,d.Z)(u,2),l=c[0],f=c[1];return(0,m.useEffect)((function(){a(i)}),[null,i]),(0,g.jsxs)("div",{children:[l&&(0,g.jsx)("div",{children:(0,g.jsx)("input",{value:o,onChange:function(n){a(n.currentTarget.value)},style:{outline:"none"},autoFocus:!0,onBlur:function(){e((0,v.Q1)(o)),e((0,v.hL)(t)),f(!1)},type:"text",name:"",id:""})}),!l&&(0,g.jsx)("div",{children:(0,g.jsx)("span",{style:{fontWeight:"bold"},onDoubleClick:function(){return f(!0)},children:o||"no status"})})]})},D=e(8687),$=e(7689),b=e(9171),y=e(168),w=e(6444),M=e(9270),S=e(6139),k=e(704),Z=e(6147),_=(0,w.ZP)(b.u)(i||(i=(0,y.Z)(["\nmargin-left:655px;\nmargin-bottom:550px;\nwidth:30px;\nborder:none;\nbackground:transparent;\nfont-size:20px;\n"]))),B=w.ZP.div(r||(r=(0,y.Z)(["\nposition:fixed;\nheight:100vh;\nwidth:100vw;\ntop:0;\nleft:0;\ndisplay:flex;\nalign-items:center;\njustify-content:center;\nbackground-color:rgba(0,0,0,0.4);\ncolor: white;\n"]))),O=w.ZP.div(s||(s=(0,y.Z)(["\nwidth:600px;\nheight:500px;\npadding:10px;\nbackground:#ededed;\ncolor:black;\nposition:absolute;\n"]))),C=(0,k.Z)({form:"profile",enableReinitialize:!0})((function(n){(0,D.v9)((function(n){return n.profile.isUpdated}));return(0,g.jsxs)(B,{children:[(0,g.jsx)(O,{children:(0,g.jsxs)("form",{onSubmit:n.handleSubmit,children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:"Looking for a job"}),":",(0,g.jsx)(S.Z,{value:"hey",component:"input",name:"lookingForAJob",type:"checkbox"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:"Full name"}),": ",(0,g.jsx)(S.Z,{placeholder:"Enter your full name",name:"fullName",component:M.I})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:"About me"}),": ",(0,g.jsx)(S.Z,{placeholder:"About me",name:"aboutMe",component:M.I})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:"my professional skills"}),":",(0,g.jsx)(S.Z,{placeholder:"Describe your skills",name:"lookingForAJobDescription",component:Z.g})]}),(0,g.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:Object.keys(n.profile.contacts).map((function(n){return(0,g.jsxs)("div",{children:[(0,g.jsxs)("b",{children:[n,":"]}),"  ",(0,g.jsx)(S.Z,{placeholder:n,name:"contacts."+n,component:M.I},n)]},n)}))}),(0,g.jsx)(b.u,{children:"Save"}),(0,g.jsx)("br",{}),n.error&&(0,g.jsx)("div",{style:{color:"#E60C0C"},children:n.error})]})}),(0,g.jsx)(_,{onClick:function(){return n.setEditMode(!n.editMode)},children:"x"})]})})),I=function(n){var t=n.EnterEditmode,e=n.profile,i=n.status,r=n.params,s=n.dispatch,o=n.isOwner,a=function(n){var t=n.contactTitle,e=n.contactValue;return(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:t}),": ",e]})};return(0,g.jsxs)("div",{className:p.contacts,children:[(0,g.jsxs)("span",{className:p.fullname,children:[e.fullName," "]}),(0,g.jsx)("br",{}),(0,g.jsx)(j,{params:r,dispatch:s,status:i}),(0,g.jsxs)("div",{style:{marginTop:"10px"},children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:"looking for a job"}),": ",e.lookingForAJob?"yes":"no",(0,g.jsx)("br",{})]}),e.lookingForAJob&&(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:"my professional skills"}),":",e.lookingForAJobDescription,(0,g.jsx)("br",{})]}),e.aboutMe&&(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:"about me"}),": ",e.aboutMe,(0,g.jsx)("br",{})]}),(0,g.jsx)("div",{})]}),Object.keys(e.contacts).map((function(n){if(e.contacts[n])return(0,g.jsx)(a,{contactTitle:n,contactValue:e.contacts[n]},n)})),o==r.userId&&(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(b.u,{onClick:function(){t()},children:"Edit"})})]})},P=function(n){var t=n.profile,e=n.isOwner,i=(0,D.v9)((function(n){return n.profile.status})),r=(0,$.UO)(),s=(0,D.I0)(),o=(0,m.useState)(!1),a=(0,d.Z)(o,2),u=a[0],c=a[1],l=(0,m.useState)(!1),j=(0,d.Z)(l,2),b=j[0],y=j[1],w=function(){var n=(0,h.Z)((0,f.Z)().mark((function n(t){return(0,f.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.target.files.length){n.next=3;break}return n.next=3,s((0,v.ZL)(t.target.files[0])).then((function(){c(!u),t.target.value=null}));case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();if((0,m.useEffect)((function(){s((0,v.hL)(r)),s((0,v.o0)(r))}),[null,r,u]),!t)return(0,g.jsx)("img",{src:x});return(0,g.jsx)("div",{className:p.descriptionBlock,children:(0,g.jsxs)("div",{className:p.main_info,children:[(0,g.jsx)("img",{src:t.photos.large||"https://thumbs.dreamstime.com/b/%D0%BE%D1%87%D0%B5%D0%BD%D1%8C-%D1%81%D0%B5%D1%80%D1%8C%D0%B5%D0%B7%D0%BD%D1%8B%D0%B9-%D0%BC-%D0%B0-%D0%B5%D0%BD%D0%B5%D1%86-39968623.jpg",className:p.avatar}),e==r.userId&&(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("input",{type:"file",onChange:w})}),(0,g.jsx)(I,{EnterEditmode:function(){y(!0),s((0,v.Qj)(""))},isOwner:e,dispatch:s,profile:t,status:i,params:r}),b?(0,g.jsx)(C,{dispatch:s,onSubmit:function(n){s((0,v.Ii)(n)).then((function(){s((0,v.o0)(r)),y(!1)}))},initialValues:t,profile:t,editMode:b,setEditMode:y}):null]})})},T=e(8610),L=(0,k.Z)({form:"profileAddPostForm"})((function(n){return(0,g.jsxs)("form",{style:{marginLeft:"16px"},onSubmit:n.handleSubmit,children:[(0,g.jsx)(S.Z,{validate:T.C,component:Z.g,name:"newPostText",placeholder:"type..."}),(0,g.jsx)(b.u,{children:"Send Post"})]})})),A=function(n){return(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{style:{marginLeft:"18px"},children:"My Posts"}),(0,g.jsx)(L,{onSubmit:function(t){n.Send(t.newPostText),t.newPostText=""}})]})},E=function(n){var t=(0,D.I0)();return(0,g.jsx)(A,{Send:function(n){return t((0,v.Wl)(n))}})},F=e(5002),H=e(2580),W=e(7892),Y=e.n(W),N=w.ZP.div(o||(o=(0,y.Z)(["\ndisplay: flex;\npadding: 10px;\nmargin-left: 10px;\nheight: 100px;\nwidth: 550px;\nbackground-color: rgb(229, 229, 229);\nborder-radius: 10px;\n&& img {\n    width:100px;\n}\n"]))),U=w.ZP.div(a||(a=(0,y.Z)(["\ndisplay:grid;\ngrid-template-rows:3fr 1fr;\nwidth:100%;\npadding:5px;\n& span{\n    font-size:14px;\n}\n& p{\n    font-weight:500;\n}\n"]))),J=w.ZP.span(u||(u=(0,y.Z)(["\nfont-size:30px;\ncolor:",";\n:hover{\n    cursor:pointer;\n}\n"])),(function(n){return n.liked?"red":"lightgrey"})),z=w.ZP.span(c||(c=(0,y.Z)(["\nfont-weight:bold;\ncolor:darkblue;\n"]))),V={display:"flex",justifyContent:"space-between"},Q=function(n){var t=n.message,e=n.time,i=n.likes,r=n.dispatch,s=n.id,o=n.isLiked,a=(0,m.useState)(o),u=(0,d.Z)(a,2),c=u[0],l=u[1],f=(0,m.useState)(i),h=(0,d.Z)(f,2),p=h[0],x=h[1],j=(0,D.v9)((function(n){return n.profile.profile}));return(0,g.jsxs)(N,{children:[(0,g.jsx)("img",{style:{borderRadius:"10px"},src:j?j.photos.small:"https://thumbs.dreamstime.com/b/%D0%BE%D1%87%D0%B5%D0%BD%D1%8C-%D1%81%D0%B5%D1%80%D1%8C%D0%B5%D0%B7%D0%BD%D1%8B%D0%B9-%D0%BC-%D0%B0-%D0%B5%D0%BD%D0%B5%D1%86-39968623.jpg"}),(0,g.jsxs)(U,{children:[(0,g.jsx)("p",{children:t}),(0,g.jsxs)("span",{style:V,children:[(0,g.jsxs)("div",{children:[" ",(0,g.jsx)(J,{liked:c,onClick:function(){return n=s,l(!c),x(c?p-1:p+1),void r((0,v.FC)(c,n,p));var n},children:"\u2665"}),(0,g.jsxs)(z,{children:[" ",p]})," people liked this"]}),(0,g.jsx)("span",{children:Y()(e).format("D.MMM HH:mm")}),(0,g.jsx)(b.u,{id:s,onClick:function(n){return t=n.target.id,void r((0,v.Uc)(t));var t},style:{margin:"0"},children:"Delete"})]})]})]})},R=w.ZP.div(l||(l=(0,y.Z)(["\noverflow: scroll;\ndisplay: grid;\ngrid-template-rows: 1fr 1fr 1fr 1fr;\ngrid-gap: 10px;\npadding: 10px;  \nwidth:80%;\n}\n"]))),q=function(n){var t=(0,D.v9)((function(n){return n.profile.postData})),e=(0,D.I0)();return t=t.map((function(n){return(0,g.jsx)(Q,{time:n.created,id:n.id,message:n.post,likes:n.likes,isLiked:n.isLiked,dispatch:e},n.id)})),(0,g.jsx)(R,{children:t})},G=function(n){var t=(0,D.v9)((function(n){return n.auth.userId})),e=(0,F.e)(),i=(0,m.useState)((0,H.a)()),r=(0,d.Z)(i,2),s=r[0],o=r[1],a=(0,D.I0)(),u=(0,$.UO)();(0,m.useEffect)((function(){a((0,v.o0)(u)),o(s)}),[null,u]);var c=(0,D.v9)((function(n){return n.profile}));return(0,H.a)()?(0,g.jsxs)("div",{children:[(0,g.jsx)(P,{isOwner:t,profile:c.profile}),(0,g.jsx)(E,{state:c}),(0,g.jsx)(q,{})]}):e}},6147:function(n,t,e){"use strict";e.d(t,{g:function(){return d}});var i,r=e(8683),s=e(5987),o=e(168),a=e(6444),u=e(184),c=["input","meta"],l=a.ZP.textarea(i||(i=(0,o.Z)(["\n    resize:none;\n    width:300px;\n    margin: 5px;\n    padding:5px;\n    border-radius: 5px;\n    outline: none;\n    border:1px solid darkblue;\n"]))),d=function(n){var t=n.input,e=n.meta,i=(0,s.Z)(n,c);return(0,u.jsx)("div",{children:(0,u.jsx)(l,(0,r.Z)((0,r.Z)((0,r.Z)({},i),t),e))})}},7892:function(n){n.exports=function(){"use strict";var n=1e3,t=6e4,e=36e5,i="millisecond",r="second",s="minute",o="hour",a="day",u="week",c="month",l="quarter",d="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var t=["th","st","nd","rd"],e=n%100;return"["+n+(t[(e-20)%10]||t[e]||t[0])+"]"}},v=function(n,t,e){var i=String(n);return!i||i.length>=t?n:""+Array(t+1-i.length).join(e)+n},g={s:v,z:function(n){var t=-n.utcOffset(),e=Math.abs(t),i=Math.floor(e/60),r=e%60;return(t<=0?"+":"-")+v(i,2,"0")+":"+v(r,2,"0")},m:function n(t,e){if(t.date()<e.date())return-n(e,t);var i=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(i,c),s=e-r<0,o=t.clone().add(i+(s?-1:1),c);return+(-(i+(e-r)/(s?r-o:o-r))||0)},a:function(n){return n<0?Math.ceil(n)||0:Math.floor(n)},p:function(n){return{M:c,y:d,w:u,d:a,D:f,h:o,m:s,s:r,ms:i,Q:l}[n]||String(n||"").toLowerCase().replace(/s$/,"")},u:function(n){return void 0===n}},j="en",D={};D[j]=m;var $=function(n){return n instanceof M},b=function n(t,e,i){var r;if(!t)return j;if("string"==typeof t){var s=t.toLowerCase();D[s]&&(r=s),e&&(D[s]=e,r=s);var o=t.split("-");if(!r&&o.length>1)return n(o[0])}else{var a=t.name;D[a]=t,r=a}return!i&&r&&(j=r),r||!i&&j},y=function(n,t){if($(n))return n.clone();var e="object"==typeof t?t:{};return e.date=n,e.args=arguments,new M(e)},w=g;w.l=b,w.i=$,w.w=function(n,t){return y(n,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var M=function(){function m(n){this.$L=b(n.locale,null,!0),this.parse(n)}var v=m.prototype;return v.parse=function(n){this.$d=function(n){var t=n.date,e=n.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(p);if(i){var r=i[2]-1||0,s=(i[7]||"0").substring(0,3);return e?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)}}return new Date(t)}(n),this.$x=n.x||{},this.init()},v.init=function(){var n=this.$d;this.$y=n.getFullYear(),this.$M=n.getMonth(),this.$D=n.getDate(),this.$W=n.getDay(),this.$H=n.getHours(),this.$m=n.getMinutes(),this.$s=n.getSeconds(),this.$ms=n.getMilliseconds()},v.$utils=function(){return w},v.isValid=function(){return!(this.$d.toString()===h)},v.isSame=function(n,t){var e=y(n);return this.startOf(t)<=e&&e<=this.endOf(t)},v.isAfter=function(n,t){return y(n)<this.startOf(t)},v.isBefore=function(n,t){return this.endOf(t)<y(n)},v.$g=function(n,t,e){return w.u(n)?this[t]:this.set(e,n)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(n,t){var e=this,i=!!w.u(t)||t,l=w.p(n),h=function(n,t){var r=w.w(e.$u?Date.UTC(e.$y,t,n):new Date(e.$y,t,n),e);return i?r:r.endOf(a)},p=function(n,t){return w.w(e.toDate()[n].apply(e.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),e)},x=this.$W,m=this.$M,v=this.$D,g="set"+(this.$u?"UTC":"");switch(l){case d:return i?h(1,0):h(31,11);case c:return i?h(1,m):h(0,m+1);case u:var j=this.$locale().weekStart||0,D=(x<j?x+7:x)-j;return h(i?v-D:v+(6-D),m);case a:case f:return p(g+"Hours",0);case o:return p(g+"Minutes",1);case s:return p(g+"Seconds",2);case r:return p(g+"Milliseconds",3);default:return this.clone()}},v.endOf=function(n){return this.startOf(n,!1)},v.$set=function(n,t){var e,u=w.p(n),l="set"+(this.$u?"UTC":""),h=(e={},e[a]=l+"Date",e[f]=l+"Date",e[c]=l+"Month",e[d]=l+"FullYear",e[o]=l+"Hours",e[s]=l+"Minutes",e[r]=l+"Seconds",e[i]=l+"Milliseconds",e)[u],p=u===a?this.$D+(t-this.$W):t;if(u===c||u===d){var x=this.clone().set(f,1);x.$d[h](p),x.init(),this.$d=x.set(f,Math.min(this.$D,x.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},v.set=function(n,t){return this.clone().$set(n,t)},v.get=function(n){return this[w.p(n)]()},v.add=function(i,l){var f,h=this;i=Number(i);var p=w.p(l),x=function(n){var t=y(h);return w.w(t.date(t.date()+Math.round(n*i)),h)};if(p===c)return this.set(c,this.$M+i);if(p===d)return this.set(d,this.$y+i);if(p===a)return x(1);if(p===u)return x(7);var m=(f={},f[s]=t,f[o]=e,f[r]=n,f)[p]||1,v=this.$d.getTime()+i*m;return w.w(v,this)},v.subtract=function(n,t){return this.add(-1*n,t)},v.format=function(n){var t=this,e=this.$locale();if(!this.isValid())return e.invalidDate||h;var i=n||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),s=this.$H,o=this.$m,a=this.$M,u=e.weekdays,c=e.months,l=function(n,e,r,s){return n&&(n[e]||n(t,i))||r[e].slice(0,s)},d=function(n){return w.s(s%12||12,n,"0")},f=e.meridiem||function(n,t,e){var i=n<12?"AM":"PM";return e?i.toLowerCase():i},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:w.s(a+1,2,"0"),MMM:l(e.monthsShort,a,c,3),MMMM:l(c,a),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:l(e.weekdaysMin,this.$W,u,2),ddd:l(e.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(s),HH:w.s(s,2,"0"),h:d(1),hh:d(2),a:f(s,o,!0),A:f(s,o,!1),m:String(o),mm:w.s(o,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return i.replace(x,(function(n,t){return t||p[n]||r.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(i,f,h){var p,x=w.p(f),m=y(i),v=(m.utcOffset()-this.utcOffset())*t,g=this-m,j=w.m(this,m);return j=(p={},p[d]=j/12,p[c]=j,p[l]=j/3,p[u]=(g-v)/6048e5,p[a]=(g-v)/864e5,p[o]=g/e,p[s]=g/t,p[r]=g/n,p)[x]||g,h?j:w.a(j)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return D[this.$L]},v.locale=function(n,t){if(!n)return this.$L;var e=this.clone(),i=b(n,t,!0);return i&&(e.$L=i),e},v.clone=function(){return w.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},m}(),S=M.prototype;return y.prototype=S,[["$ms",i],["$s",r],["$m",s],["$H",o],["$W",a],["$M",c],["$y",d],["$D",f]].forEach((function(n){S[n[1]]=function(t){return this.$g(t,n[0],n[1])}})),y.extend=function(n,t){return n.$i||(n(t,M,y),n.$i=!0),y},y.locale=b,y.isDayjs=$,y.unix=function(n){return y(1e3*n)},y.en=D[j],y.Ls=D,y.p={},y}()}}]);
//# sourceMappingURL=457.e2f3039c.chunk.js.map